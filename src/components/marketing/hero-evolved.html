<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>143 Leadership — Hero</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;800;900&display=swap" rel="stylesheet"/>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --ink:#060014;--deep:#0c0023;
  --grape:rgba(126,63,255,0.98);
  --font:'Outfit',system-ui,sans-serif;
  --eclipse:0;--sun-bright:1;--temp:0;
  --nav-h:56px;
}
html,body{height:100%;overflow:hidden}
body{margin:0;background:var(--ink);font-family:var(--font);-webkit-font-smoothing:antialiased}

/* ====== NAV BAR ====== */
.site-nav{
  position:fixed;top:0;left:0;right:0;z-index:100;
  height:var(--nav-h);
  display:flex;align-items:center;justify-content:space-between;
  padding:0 clamp(16px,4vw,48px);
  background:linear-gradient(180deg,rgba(6,0,20,0.85) 0%,rgba(6,0,20,0.40) 70%,transparent 100%);
  backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);
  border-bottom:1px solid rgba(126,63,255,0.08);
}
.nav-brand{
  font-weight:900;font-size:clamp(16px,2vw,22px);letter-spacing:0.06em;
  color:rgba(255,255,255,0.95);text-decoration:none;
  text-shadow:0 0 12px rgba(126,63,255,0.40);
}
.nav-links{display:flex;gap:clamp(14px,3vw,36px);list-style:none}
.nav-links a{
  font-weight:700;font-size:clamp(11px,1.3vw,14px);letter-spacing:0.08em;
  text-transform:uppercase;text-decoration:none;
  color:rgba(255,255,255,0.70);
  transition:color 0.25s,text-shadow 0.25s;
}
.nav-links a:hover{
  color:rgba(255,255,255,0.98);
  text-shadow:0 0 10px rgba(126,63,255,0.50);
}
@media(max-width:600px){
  .site-nav{padding:0 14px}
  .nav-links{gap:12px}
}

/* ====== HERO — 3D perspective container ====== */
.hero{
  position:relative;min-height:100vh;overflow:hidden;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  isolation:isolate;perspective:1200px;
  background:linear-gradient(180deg,var(--deep),var(--ink));
}

/* ====== CANVAS — single unified render surface ====== */
canvas.scene{position:absolute;inset:0;width:100%;height:100%;z-index:0}

/* ====== ATMOSPHERE — JS controls color temp ====== */
.atmosphere{
  position:absolute;inset:-10%;z-index:1;pointer-events:none;
  opacity:0.8;mix-blend-mode:screen;filter:blur(28px) saturate(1.1);
  transition:background 0.3s;
}

/* ====== VIGNETTE ====== */
.vignette{
  position:absolute;inset:0;z-index:6;pointer-events:none;
  background:radial-gradient(ellipse 72% 62% at 50% 44%,transparent 38%,rgba(0,0,0,0.55) 100%);
}

/* ====== ECLIPSE DARKNESS — JS driven ====== */
.eclipse-darkness{
  position:absolute;inset:0;z-index:5;pointer-events:none;
  background:rgba(0,0,0,0.85);opacity:0;transition:opacity 0.15s;
}

/* ====== FILM GRAIN ====== */
.grain{
  position:absolute;inset:-50%;z-index:20;pointer-events:none;
  opacity:0.026;mix-blend-mode:overlay;
  animation:grainShift 0.5s steps(4) infinite;
}
@keyframes grainShift{
  0%{transform:translate(0,0)}25%{transform:translate(-2%,3%)}
  50%{transform:translate(3%,-1%)}75%{transform:translate(-1%,-2%)}
}

/* ====== SHOOTING STARS ====== */
.shooting-star{
  position:absolute;z-index:1;height:1.5px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.8) 40%,transparent);
  opacity:0;pointer-events:none;filter:drop-shadow(0 0 4px rgba(255,255,255,0.3));
}
.ss-1{width:150px;top:14%;left:-18%;animation:shoot1 12s 3s ease-in-out infinite}
.ss-2{width:110px;top:26%;left:-12%;animation:shoot2 16s 9s ease-in-out infinite}
.ss-3{width:90px;top:38%;left:-10%;animation:shoot3 20s 14s ease-in-out infinite}
@keyframes shoot1{
  0%,72%{opacity:0;transform:translateX(0) rotate(16deg)}
  75%{opacity:0.85}81%{opacity:0;transform:translateX(155vw) rotate(16deg)}100%{opacity:0}
}
@keyframes shoot2{
  0%,68%{opacity:0;transform:translateX(0) rotate(24deg)}
  72%{opacity:0.7}79%{opacity:0;transform:translateX(145vw) rotate(24deg)}100%{opacity:0}
}
@keyframes shoot3{
  0%,74%{opacity:0;transform:translateX(0) rotate(-12deg)}
  77%{opacity:0.6}84%{opacity:0;transform:translateX(140vw) rotate(-12deg)}100%{opacity:0}
}

/* ====== CURSOR GLOW ====== */
.cursor-glow{
  position:fixed;width:360px;height:360px;border-radius:50%;
  background:radial-gradient(circle,rgba(175,120,255,0.06),transparent 70%);
  pointer-events:none;z-index:4;transform:translate(-50%,-50%);
}

/* ====== HORIZON ====== */
.horizon{
  position:absolute;bottom:0;left:0;right:0;height:22%;z-index:1;
  background:linear-gradient(0deg,rgba(40,10,80,0.45),rgba(80,30,140,0.12) 40%,transparent);
  pointer-events:none;
}

/* ====== ECLIPSE STAGE ====== */
.eclipse-stage{
  position:relative;z-index:9;
  width:min(600px,90vw);aspect-ratio:1;
  display:grid;place-items:center;pointer-events:none;
  margin-bottom:-80px;
  transform-style:preserve-3d;
  transition:opacity 0.3s;
}

/* ====== SUN GLOW — JS brightness, much more radiance ====== */
.sun-glow{
  position:absolute;width:95%;height:95%;border-radius:50%;z-index:0;
  background:radial-gradient(circle,
    rgba(255,220,100,0.30) 0%,rgba(255,200,80,0.20) 20%,
    rgba(255,180,60,0.12) 40%,rgba(255,160,50,0.05) 60%,transparent 80%);
  transition:opacity 0.2s,transform 0.3s;
}

/* ====== CONIC RAYS — JS opacity ====== */
.rays-wrap{
  position:absolute;width:100%;height:100%;display:grid;place-items:center;
  transition:opacity 0.15s;
}
.rays{
  position:absolute;width:74%;height:74%;border-radius:50%;z-index:1;
  background:conic-gradient(from 0deg,
    rgba(255,255,255,0) 0deg,rgba(255,240,200,0.26) 3deg,rgba(255,255,255,0) 6deg);
  filter:blur(0.3px);mix-blend-mode:screen;opacity:0.82;
  animation:raySpin 36s linear infinite;
}
.rays::after{
  content:"";position:absolute;inset:8%;border-radius:50%;
  background:conic-gradient(from 40deg,
    rgba(255,255,255,0) 0deg,rgba(255,210,130,0.18) 2.5deg,rgba(255,255,255,0) 5deg);
  opacity:0.75;animation:raySpin 44s linear infinite reverse;mix-blend-mode:screen;filter:blur(0.5px);
}
@keyframes raySpin{to{transform:rotate(360deg)}}

/* ====== SUN SVG — with surface turbulence ====== */
.sun-svg{
  width:100%;height:100%;overflow:visible;position:relative;z-index:2;
  animation:sunBreathe 6s ease-in-out infinite;
}
@keyframes sunBreathe{
  0%,100%{transform:scale(1);filter:brightness(1) saturate(1)}
  25%{transform:scale(1.008);filter:brightness(1.03) saturate(1.05)}
  50%{transform:scale(1.012);filter:brightness(1.05) saturate(1.08)}
  75%{transform:scale(1.006);filter:brightness(1.02) saturate(1.03)}
}

/* ====== 143 BRAND MARK — z-index below moon so eclipse covers it ====== */
.brand-143{
  position:absolute;z-index:3;
  font-weight:900;font-size:clamp(52px,12vw,110px);
  letter-spacing:0.04em;
  color:rgba(255,255,255,0.98);
  text-shadow:
    0 0 10px rgba(160,90,255,0.95),0 0 28px rgba(126,63,255,0.85),
    0 0 55px rgba(126,63,255,0.55),0 0 100px rgba(100,40,255,0.35),
    0 0 160px rgba(80,20,255,0.18),0 4px 20px rgba(0,0,0,0.40);
  pointer-events:none;-webkit-user-select:none;user-select:none;
  margin-top:6%;transition:filter 0.2s,opacity 0.2s;
}

/* ====== MOON — JS positioned, sized to match sun disc ====== */
.moon-layer{
  position:absolute;z-index:10;
  width:34%;aspect-ratio:1;border-radius:50%;
  pointer-events:none;will-change:left,top,opacity,filter;
  transition:filter 0.1s;
}
/* ====== DIAMOND RING FLASH — JS toggled ====== */
.diamond-ring{
  position:absolute;z-index:11;width:8px;height:8px;border-radius:50%;
  background:#fff;opacity:0;pointer-events:none;
  box-shadow:
    0 0 12px 6px rgba(255,255,255,0.95),
    0 0 30px 15px rgba(255,240,200,0.80),
    0 0 60px 30px rgba(255,220,120,0.50),
    0 0 120px 60px rgba(255,200,80,0.30),
    0 0 200px 80px rgba(200,160,255,0.20);
  transition:opacity 0.15s;
}
.moon-layer svg{width:100%;height:100%;display:block}

/* ====== ECLIPSE CORONA RING — JS driven ====== */
.eclipse-ring{
  position:absolute;z-index:5;width:58%;height:58%;border-radius:50%;
  border:2px solid transparent;background:transparent;
  pointer-events:none;margin-top:6%;transition:border-color 0.15s,box-shadow 0.15s;
}

/* ====== LENS FLARE — JS driven ====== */
.lens-flare{
  position:absolute;z-index:6;width:160%;height:3px;left:-30%;top:53%;
  background:linear-gradient(90deg,transparent 0%,rgba(160,120,255,0) 20%,
    rgba(200,160,255,0.30) 40%,rgba(255,240,255,0.55) 50%,
    rgba(200,160,255,0.30) 60%,rgba(160,120,255,0) 80%,transparent);
  filter:blur(1.5px);pointer-events:none;transition:opacity 0.15s;
}

/* ====== ECLIPSE BLOOM — JS driven ====== */
.eclipse-bloom{
  position:absolute;z-index:4;width:55%;height:55%;border-radius:50%;
  background:radial-gradient(circle,rgba(140,80,255,0.30),rgba(120,50,255,0.12) 40%,transparent 70%);
  pointer-events:none;margin-top:6%;transition:opacity 0.15s,transform 0.15s;
}

/* ====== SUPERNOVA FLASH ====== */
.supernova-flash{
  position:absolute;inset:0;z-index:25;pointer-events:none;
  background:radial-gradient(circle at 50% 40%,
    rgba(255,255,255,1),rgba(255,240,200,0.85) 18%,
    rgba(255,200,100,0.45) 45%,transparent 78%);
  opacity:0;
}

/* ====== LOGO REVEAL ====== */
.logo-reveal{
  position:absolute;z-index:14;
  top:44%;left:50%;transform:translate(-50%,-50%) scale(0.82);
  width:min(720px,90vw);
  opacity:0;pointer-events:none;
  filter:drop-shadow(0 0 40px rgba(126,63,255,0.50)) drop-shadow(0 0 80px rgba(100,40,220,0.25));
  transition:opacity 2s ease-out,transform 2s cubic-bezier(.2,.8,.2,1),filter 2s ease-out;
}
.logo-reveal.visible{
  opacity:1;transform:translate(-50%,-50%) scale(1);pointer-events:auto;
  filter:drop-shadow(0 0 30px rgba(126,63,255,0.35)) drop-shadow(0 0 60px rgba(100,40,220,0.15));
}
.logo-reveal img{width:100%;height:auto;display:block}

/* ====== GLASSMORPHISM PLATE — JS light ====== */
.hero-copy{
  position:relative;z-index:12;text-align:center;
  padding:36px 32px 30px;max-width:1040px;
  border:1px solid rgba(255,255,255,0.10);border-radius:22px;
  backdrop-filter:blur(14px) saturate(1.15);
  -webkit-backdrop-filter:blur(14px) saturate(1.15);
  color:rgba(255,255,255,0.94);
  transition:background 0.3s,box-shadow 0.3s;
}

/* ====== ROW 1 — THE HEADLINE THAT LIVES ====== */
.row-1{
  margin:0;font-weight:900;text-transform:uppercase;
  font-size:clamp(28px,4.6vw,62px);letter-spacing:0.04em;line-height:1.05;
  color:#FFFEF5;position:relative;overflow:hidden;
  transition:text-shadow 0.3s;
}
.row-1::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(105deg,transparent 30%,rgba(255,255,255,0.10) 48%,
    rgba(255,255,255,0.16) 50%,rgba(255,255,255,0.10) 52%,transparent 70%);
  animation:sweep 7s 4s ease-in-out infinite;pointer-events:none;
}
@keyframes sweep{0%,60%{transform:translateX(-150%)}40%{transform:translateX(150%)}100%{transform:translateX(150%)}}
.word{
  display:inline-block;
  opacity:0;transform:translateY(28px) scale(0.96);
  animation:wordIn 700ms calc(0.4s + var(--i) * 100ms) cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes wordIn{to{opacity:1;transform:translateY(0) scale(1)}}

/* ====== ROW 2 ====== */
.row-2{
  margin:14px 0 0;font-weight:900;text-transform:uppercase;
  font-size:clamp(16px,2.4vw,28px);letter-spacing:0.03em;line-height:1.15;
  color:var(--grape);
  text-shadow:0 6px 28px rgba(0,0,0,0.55),0 0 22px rgba(126,63,255,0.40),0 0 50px rgba(126,63,255,0.18);
  -webkit-text-stroke:0.4px rgba(255,255,255,0.06);
  opacity:0;transform:translateY(14px);
  animation:textIn 850ms 0.9s cubic-bezier(.2,.8,.2,1) forwards;
}

/* ====== ROW 3 ====== */
.row-3{
  margin-top:12px;font-weight:700;text-transform:uppercase;
  font-size:clamp(11px,1.5vw,17px);letter-spacing:0.04em;line-height:1.3;
  color:rgba(255,255,255,0.82);
  text-shadow:0 6px 22px rgba(0,0,0,0.50),0 0 12px rgba(126,63,255,0.08);
  opacity:0;transform:translateY(12px);
  animation:textIn 900ms 1.1s cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes textIn{to{opacity:1;transform:translateY(0)}}

/* ====== CTA ====== */
.cta{
  display:inline-block;margin-top:22px;padding:14px 40px;border-radius:50px;
  font-family:var(--font);font-weight:800;font-size:clamp(13px,1.6vw,16px);
  letter-spacing:0.06em;text-transform:uppercase;text-decoration:none;
  color:rgba(255,255,255,0.96);
  background:linear-gradient(135deg,rgba(126,63,255,0.88),rgba(90,30,200,0.92));
  border:1px solid rgba(255,255,255,0.14);
  box-shadow:0 8px 36px rgba(126,63,255,0.35),0 2px 8px rgba(0,0,0,0.25),
    0 0 20px rgba(126,63,255,0.18),inset 0 1px 0 rgba(255,255,255,0.12);
  cursor:pointer;position:relative;overflow:hidden;
  opacity:0;transform:translateY(12px);
  animation:textIn 800ms 1.3s cubic-bezier(.2,.8,.2,1) forwards;
  transition:transform 0.3s,box-shadow 0.3s;
}
.cta:hover{
  transform:translateY(-2px) scale(1.04);
  box-shadow:0 14px 52px rgba(126,63,255,0.50),0 4px 12px rgba(0,0,0,0.30),
    0 0 30px rgba(126,63,255,0.30),inset 0 1px 0 rgba(255,255,255,0.15);
}
.cta::after{
  content:'';position:absolute;inset:0;border-radius:inherit;
  background:radial-gradient(circle,rgba(255,255,255,0.12),transparent 70%);
  animation:ctaPulse 4.8s ease-in-out infinite;pointer-events:none;
}
@keyframes ctaPulse{0%,100%{opacity:0.3}50%{opacity:0.75}}

/* ====== MOBILE ====== */
@media(max-width:600px){
  .eclipse-stage{width:92vw;margin-bottom:-40px}
  .hero-copy{max-width:92vw;padding:22px 18px 18px}
  .brand-143{font-size:clamp(40px,14vw,80px)}
  .cursor-glow{display:none}
  .row-1{font-size:clamp(24px,7vw,38px)}
  .logo-reveal{width:min(600px,92vw);top:42%}
}
@media(prefers-reduced-motion:reduce){
  .rays,.rays::after,.cta::after,.lens-flare,.eclipse-bloom,
  .eclipse-darkness,.eclipse-ring,.grain,.rays-wrap,.moon-layer,.sun-glow,
  .atmosphere,.shooting-star,.row-1::after{animation:none!important}
  .word,.row-2,.row-3,.cta{animation:none!important;opacity:1;transform:none}
  .supernova-flash{display:none}
  .logo-reveal{opacity:1;transform:translate(-50%,-50%) scale(1);transition:none}
  .eclipse-stage{opacity:0}
}
</style>
</head>
<body>
<nav class="site-nav" aria-label="Main navigation">
  <a class="nav-brand" href="#">143 Leadership</a>
  <ul class="nav-links">
    <li><a href="#">About</a></li>
    <li><a href="#">Assessment</a></li>
    <li><a href="#">9 Rays</a></li>
    <li><a href="#">Contact</a></li>
  </ul>
</nav>
<section class="hero" aria-label="143 Leadership hero">
  <canvas class="scene" aria-hidden="true"></canvas>
  <div class="atmosphere" aria-hidden="true"></div>
  <div class="shooting-star ss-1" aria-hidden="true"></div>
  <div class="shooting-star ss-2" aria-hidden="true"></div>
  <div class="shooting-star ss-3" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="eclipse-darkness" aria-hidden="true"></div>
  <div class="supernova-flash" aria-hidden="true"></div>
  <canvas class="grain" aria-hidden="true"></canvas>
  <div class="cursor-glow" aria-hidden="true"></div>
  <div class="horizon" aria-hidden="true"></div>

  <div class="eclipse-stage" aria-hidden="true">
    <div class="sun-glow"></div>
    <div class="rays-wrap"><div class="rays"></div></div>

    <svg class="sun-svg" viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet">
      <defs>
        <radialGradient id="photo" cx="46%" cy="44%" r="52%">
          <stop offset="0%" stop-color="#FFFEF5"/>
          <stop offset="15%" stop-color="#FFF8D6"/>
          <stop offset="30%" stop-color="#FFEC80"/>
          <stop offset="50%" stop-color="#F8D011"/>
          <stop offset="68%" stop-color="#F0B800"/>
          <stop offset="82%" stop-color="#E89D0C"/>
          <stop offset="100%" stop-color="#D4770B" stop-opacity="0"/>
        </radialGradient>
        <radialGradient id="corona" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="#FFF8D6" stop-opacity="0.5"/>
          <stop offset="15%" stop-color="#F8D011" stop-opacity="0.3"/>
          <stop offset="30%" stop-color="#F8D011" stop-opacity="0.15"/>
          <stop offset="50%" stop-color="#F0B800" stop-opacity="0.06"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <radialGradient id="outer" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="#F8D011" stop-opacity="0.22"/>
          <stop offset="25%" stop-color="#F0B800" stop-opacity="0.10"/>
          <stop offset="55%" stop-color="#E89D0C" stop-opacity="0.03"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <radialGradient id="wisp" cx="50%" cy="0%" r="80%">
          <stop offset="0%" stop-color="#FFF8D6" stop-opacity="0.4"/>
          <stop offset="40%" stop-color="#F8D011" stop-opacity="0.15"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <filter id="bloom" x="-150%" y="-150%" width="400%" height="400%">
          <feGaussianBlur stdDeviation="14" result="b1"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="b2"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b3"/>
          <feMerge><feMergeNode in="b1"/><feMergeNode in="b1"/><feMergeNode in="b2"/><feMergeNode in="b3"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        <!-- Sun surface turbulence — makes the disc ALIVE -->
        <filter id="sunTurb" x="-10%" y="-10%" width="120%" height="120%">
          <feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="4" seed="143" result="turb">
            <animate attributeName="seed" from="1" to="20" dur="3s" repeatCount="indefinite"/>
          </feTurbulence>
          <feDisplacementMap in="SourceGraphic" in2="turb" scale="4" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
        <filter id="wblur" x="-300%" y="-300%" width="700%" height="700%">
          <feGaussianBlur stdDeviation="7" result="s1"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="s2"/>
          <feMerge><feMergeNode in="s1"/><feMergeNode in="s2"/></feMerge>
        </filter>
      </defs>
      <circle cx="400" cy="430" r="300" fill="url(#outer)" opacity="0.75"/>
      <circle cx="400" cy="430" r="200" fill="url(#corona)" opacity="0.85"/>
      <g id="wisps">
        <ellipse cx="400" cy="368" rx="180" ry="32" fill="url(#wisp)" filter="url(#wblur)" opacity="0.35" transform="rotate(200,400,430)"/>
        <ellipse cx="400" cy="368" rx="160" ry="28" fill="url(#wisp)" filter="url(#wblur)" opacity="0.30" transform="rotate(240,400,430)"/>
        <ellipse cx="400" cy="368" rx="145" ry="25" fill="url(#wisp)" filter="url(#wblur)" opacity="0.25" transform="rotate(170,400,430)"/>
        <ellipse cx="400" cy="368" rx="190" ry="30" fill="url(#wisp)" filter="url(#wblur)" opacity="0.35" transform="rotate(130,400,430)"/>
        <ellipse cx="400" cy="368" rx="135" ry="25" fill="url(#wisp)" filter="url(#wblur)" opacity="0.28" transform="rotate(280,400,430)"/>
        <ellipse cx="400" cy="368" rx="165" ry="28" fill="url(#wisp)" filter="url(#wblur)" opacity="0.32" transform="rotate(320,400,430)"/>
        <ellipse cx="400" cy="368" rx="125" ry="22" fill="url(#wisp)" filter="url(#wblur)" opacity="0.22" transform="rotate(50,400,430)"/>
        <ellipse cx="400" cy="368" rx="155" ry="26" fill="url(#wisp)" filter="url(#wblur)" opacity="0.28" transform="rotate(90,400,430)"/>
      </g>
      <circle cx="400" cy="430" r="140" fill="url(#corona)" opacity="0.65"/>
      <circle id="sun-disc" cx="400" cy="430" r="110" fill="url(#photo)" filter="url(#bloom)"/>
      <!-- Turbulent overlay on the sun surface -->
      <circle cx="400" cy="430" r="106" fill="url(#photo)" filter="url(#sunTurb)" opacity="0.15"/>
    </svg>

    <span class="brand-143">143</span>

    <div class="moon-layer">
      <svg viewBox="0 0 220 220">
        <defs>
          <radialGradient id="moonSurface" cx="40%" cy="38%" r="60%">
            <stop offset="0%" stop-color="#2A0845"/>
            <stop offset="50%" stop-color="#1A0030"/>
            <stop offset="100%" stop-color="#0D001A"/>
          </radialGradient>
          <radialGradient id="crater1" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="rgba(15,0,30,0.6)"/>
            <stop offset="100%" stop-color="transparent"/>
          </radialGradient>
        </defs>
        <circle cx="110" cy="110" r="110" fill="url(#moonSurface)"/>
        <!-- Subtle crater texture -->
        <circle cx="75" cy="70" r="18" fill="url(#crater1)" opacity="0.4"/>
        <circle cx="140" cy="90" r="12" fill="url(#crater1)" opacity="0.3"/>
        <circle cx="95" cy="140" r="22" fill="url(#crater1)" opacity="0.35"/>
        <circle cx="130" cy="150" r="10" fill="url(#crater1)" opacity="0.25"/>
        <circle cx="60" cy="120" r="14" fill="url(#crater1)" opacity="0.3"/>
        <!-- Purple atmosphere -->
        <circle cx="110" cy="110" r="110" fill="#40058D" opacity="0.25"/>
        <!-- Limb darkening -->
        <circle cx="110" cy="110" r="108" fill="none" stroke="rgba(10,0,20,0.4)" stroke-width="6"/>
        <!-- Subtle rim light (catches sunlight) -->
        <circle cx="110" cy="110" r="108" fill="none" stroke="#F8D011" stroke-width="1.5" opacity="0.06"/>
      </svg>
    </div>

    <div class="eclipse-ring"></div>
    <div class="eclipse-bloom"></div>
    <div class="diamond-ring"></div>
    <div class="lens-flare"></div>
  </div>

  <!-- Logo reveal — appears after supernova -->
  <div class="logo-reveal" aria-hidden="true">
    <img src="../../../public/images/143-sun-eclipsed-logo.svg" alt="143 Leadership" />
  </div>

  <div class="hero-copy">
    <h1 class="row-1">
      <span class="word" style="--i:0">UPGRADE</span>
      <span class="word" style="--i:1">YOUR</span>
      <span class="word" style="--i:2">INTERNAL</span>
      <span class="word" style="--i:3">OS</span>
    </h1>
    <p class="row-2">Live Just In A Ray Of Light</p>
    <p class="row-3">Watch Me Go First &amp; Be The Light</p>
    <a class="cta" href="#">Check My Stability</a>
  </div>
</section>

<script>
/* =====================================================
   UNIFIED SCENE ENGINE — Phase-Based One-Shot Timeline

   Sequence:
   SUN (0-2s)       → Establishing shot, 143 on sun
   ECLIPSE (2-16s)  → Moon traverses, totality, moon exits
   RECOVERY (16-17.5s) → Sun brightens back to full glory
   SUPERNOVA (17.5-20.5s) → Sun explodes AFTER moon passes
   LOGO (20.5-23s)  → 143 Leadership logo fades in
   IDLE (23s+)      → Logo visible, ambient starfield
   ===================================================== */
(function(){
  // === PHASE TIMING (seconds) ===
  var T_SUN = 2, T_ECL = 14, T_REC = 1.5, T_NOV = 3, T_LOG = 2.5;
  var P_SUN   = T_SUN;
  var P_ECL   = P_SUN + T_ECL;
  var P_REC   = P_ECL + T_REC;
  var P_NOV   = P_REC + T_NOV;
  var P_LOG   = P_NOV + T_LOG;

  // === DOM REFS ===
  var scene    = document.querySelector('.scene');
  var ctx      = scene.getContext('2d', { alpha: true });
  var atmo     = document.querySelector('.atmosphere');
  var darkness = document.querySelector('.eclipse-darkness');
  var sunGlow  = document.querySelector('.sun-glow');
  var sunSvg   = document.querySelector('.sun-svg');
  var raysWrap = document.querySelector('.rays-wrap');
  var brand143 = document.querySelector('.brand-143');
  var moonEl   = document.querySelector('.moon-layer');
  var ring     = document.querySelector('.eclipse-ring');
  var eclBloom = document.querySelector('.eclipse-bloom');
  var diamond  = document.querySelector('.diamond-ring');
  var flareEl  = document.querySelector('.lens-flare');
  var plate    = document.querySelector('.hero-copy');
  var row1     = document.querySelector('.row-1');
  var glow     = document.querySelector('.cursor-glow');
  var flash    = document.querySelector('.supernova-flash');
  var logoEl   = document.querySelector('.logo-reveal');
  var eclStage = document.querySelector('.eclipse-stage');

  var w, h, dpr;
  function resize(){
    dpr = Math.min(2, devicePixelRatio || 1);
    w = scene.clientWidth; h = scene.clientHeight;
    scene.width = Math.floor(w * dpr);
    scene.height = Math.floor(h * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  // ====== STARS ======
  var layers = [
    { count: 200, maxR: 1.0,  speed: 0.03, tw: 0.20 },
    { count: 140, maxR: 1.5,  speed: 0.07, tw: 0.26 },
    { count: 70,  maxR: 2.2,  speed: 0.11, tw: 0.32 }
  ];
  var stars = [];
  function seedStars(){
    stars = [];
    for(var li = 0; li < layers.length; li++){
      var L = layers[li];
      for(var i = 0; i < L.count; i++) stars.push({
        layer: li, x: Math.random()*w, y: Math.random()*h,
        r: Math.random()*L.maxR + 0.15,
        a0: Math.random()*0.50 + 0.08,
        phase: Math.random()*Math.PI*2,
        drift: (Math.random()*2 - 1) * L.speed,
        hue: Math.random()
      });
    }
  }

  // Constellation links
  var links = [];
  function buildLinks(){
    links = [];
    var mid = stars.filter(function(s){ return s.layer >= 1; });
    for(var i = 0; i < mid.length; i++){
      var c = 0;
      for(var j = i+1; j < mid.length && c < 2; j++){
        var dx = mid[i].x - mid[j].x, dy = mid[i].y - mid[j].y;
        var d = Math.sqrt(dx*dx + dy*dy);
        if(d < 85 && d > 18 && Math.random() < 0.25){ links.push([mid[i], mid[j]]); c++; }
      }
    }
  }

  // Dust motes — tiny particles that catch sunlight
  var motes = [];
  function seedMotes(){
    motes = [];
    for(var i = 0; i < 40; i++) motes.push({
      x: Math.random()*w, y: Math.random()*h,
      r: Math.random()*0.8 + 0.3,
      vx: (Math.random()-0.5)*0.15, vy: (Math.random()-0.5)*0.08,
      phase: Math.random()*Math.PI*2
    });
  }

  // ====== MOUSE ======
  var mx = 0.5, my = 0.5, tmx = 0.5, tmy = 0.5;
  document.addEventListener('mousemove', function(e){
    tmx = e.clientX / innerWidth;
    tmy = e.clientY / innerHeight;
  });

  // Plate inner light
  plate.addEventListener('mousemove', function(e){
    var r = plate.getBoundingClientRect();
    plate.style.setProperty('--glow-x', (e.clientX - r.left) / r.width * 100 + '%');
    plate.style.setProperty('--glow-y', (e.clientY - r.top) / r.height * 100 + '%');
  });

  // CTA gravity
  var cta = document.querySelector('.cta');
  var grav = null;
  cta.addEventListener('mouseenter', function(){
    var r = cta.getBoundingClientRect();
    grav = { x: (r.left + r.width/2) / innerWidth * w, y: (r.top + r.height/2) / innerHeight * h };
  });
  cta.addEventListener('mouseleave', function(){ grav = null; });

  // ====== ECLIPSE MATH ======
  function eclipseCurve(phase){
    if(phase < 0.32 || phase > 0.68) return 0;
    var t = (phase - 0.32) / 0.36;
    return Math.sin(t * Math.PI);
  }

  function moonPos(phase){
    if(phase < 0.03 || phase > 0.97) return { x: -5, y: 88, opacity: 0 };
    var t = Math.max(0, Math.min(1, (phase - 0.03) / 0.94));
    var x = -5 + t * 76;
    var y = 88 - Math.sin(t * Math.PI) * 51;
    var opacity = t < 0.06 ? t / 0.06 : t > 0.94 ? (1 - t) / 0.06 : 1;
    return { x: x, y: y, opacity: Math.min(1, opacity * 0.98) };
  }

  function diamondRingCalc(phase){
    var d1 = Math.abs(phase - 0.38);
    var d2 = Math.abs(phase - 0.62);
    var closest = Math.min(d1, d2);
    if(closest > 0.025) return { opacity: 0, x: 50, y: 50 };
    var intensity = 1 - closest / 0.025;
    var side = d1 < d2 ? -1 : 1;
    return { opacity: Math.pow(intensity, 2), x: 50 + side * 14, y: 52 };
  }

  // ====== SUPERNOVA PARTICLES ======
  var novaParticles = [];
  var novaSpawned = false;
  function spawnNova(){
    novaParticles = [];
    var cx = w * 0.5, cy = h * 0.40;
    for(var i = 0; i < 600; i++){
      var angle = Math.random() * Math.PI * 2;
      var speed = 60 + Math.random() * 500;
      var life = 1.8 + Math.random() * 2.5;
      var hue = Math.random();
      novaParticles.push({
        x: cx, y: cy,
        vx: Math.cos(angle) * speed,
        vy: Math.sin(angle) * speed * 0.55,
        life: life, maxLife: life,
        size: 1 + Math.random() * 3.5,
        cr: hue < 0.25 ? 255 : hue < 0.5 ? 255 : hue < 0.7 ? 200 : 180,
        cg: hue < 0.25 ? 230 : hue < 0.5 ? 180 : hue < 0.7 ? 160 : 130,
        cb: hue < 0.25 ? 100 : hue < 0.5 ? 255 : hue < 0.7 ? 255 : 255
      });
    }
    novaSpawned = true;
  }

  // ====== MAIN LOOP — PHASE-BASED TIMELINE ======
  var startTime = performance.now();
  var prevTime = startTime;
  var logoRevealed = false;

  function frame(now){
    var dt = (now - prevTime) / 1000;
    prevTime = now;
    var t = (now - startTime) / 1000;

    mx += (tmx - mx) * Math.min(1, dt * 4);
    my += (tmy - my) * Math.min(1, dt * 4);

    // ====== PHASE DETERMINATION ======
    var phase, phaseT;
    if(t < P_SUN){
      phase = 'sun'; phaseT = t / T_SUN;
    } else if(t < P_ECL){
      phase = 'eclipse'; phaseT = (t - P_SUN) / T_ECL;
    } else if(t < P_REC){
      phase = 'recovery'; phaseT = (t - P_ECL) / T_REC;
    } else if(t < P_NOV){
      phase = 'supernova'; phaseT = (t - P_REC) / T_NOV;
    } else if(t < P_LOG){
      phase = 'logo'; phaseT = (t - P_NOV) / T_LOG;
    } else {
      phase = 'idle'; phaseT = 1;
    }

    // ====== DERIVED VALUES ======
    var ecl = 0, sunBright = 1, starBoost = 1, warmth = 1;

    if(phase === 'eclipse'){
      ecl = eclipseCurve(phaseT);
      sunBright = 1 - ecl * 0.97;
      starBoost = 1 + ecl * 2.5;
      warmth = 1 - ecl;
    } else if(phase === 'supernova'){
      // Sun rapidly brightens to 6x then fades to 0
      if(phaseT < 0.12){
        sunBright = 1 + (phaseT / 0.12) * 5;
      } else if(phaseT < 0.40){
        sunBright = 6 * Math.max(0, 1 - (phaseT - 0.12) / 0.28);
      } else {
        sunBright = 0;
      }
      starBoost = 1 + phaseT * 3.5;
      warmth = Math.max(0, 1 - phaseT * 1.5);
    } else if(phase === 'logo' || phase === 'idle'){
      sunBright = 0;
      starBoost = 1.8;
      warmth = 0.3;
    }
    // sun + recovery: defaults (ecl=0, sunBright=1, starBoost=1, warmth=1)

    var glowScale = 1 + Math.sin(t * 1.2) * 0.04;

    // ====== CANVAS: CLEAR ======
    ctx.clearRect(0, 0, w, h);

    // ====== CANVAS: NEBULA ======
    var nebulaAlpha = 0.14 + ecl * 0.08;
    var driftX = Math.sin(t * 0.08) * 14;
    var driftY = Math.cos(t * 0.06) * 10;

    var g1 = ctx.createRadialGradient(w*0.28+driftX, h*0.42+driftY, 0, w*0.28+driftX, h*0.42+driftY, w*0.40);
    g1.addColorStop(0, 'rgba(160,90,255,' + (nebulaAlpha * 1.5) + ')');
    g1.addColorStop(0.5, 'rgba(120,50,200,' + (nebulaAlpha * 0.6) + ')');
    g1.addColorStop(1, 'transparent');
    ctx.fillStyle = g1; ctx.fillRect(0, 0, w, h);

    var g2 = ctx.createRadialGradient(w*0.72-driftX, h*0.34-driftY*0.5, 0, w*0.72-driftX, h*0.34-driftY*0.5, w*0.32);
    g2.addColorStop(0, 'rgba(255,80,180,' + (nebulaAlpha * 1.2) + ')');
    g2.addColorStop(0.4, 'rgba(255,120,210,' + (nebulaAlpha * 0.7) + ')');
    g2.addColorStop(1, 'transparent');
    ctx.fillStyle = g2; ctx.fillRect(0, 0, w, h);

    var g3 = ctx.createRadialGradient(w*0.55+driftX*0.7, h*0.65+driftY, 0, w*0.55+driftX*0.7, h*0.65+driftY, w*0.30);
    g3.addColorStop(0, 'rgba(60,130,255,' + (nebulaAlpha * 1.1) + ')');
    g3.addColorStop(0.5, 'rgba(80,100,220,' + (nebulaAlpha * 0.5) + ')');
    g3.addColorStop(1, 'transparent');
    ctx.fillStyle = g3; ctx.fillRect(0, 0, w, h);

    var g5 = ctx.createRadialGradient(w*0.80+driftX*0.3, h*0.60, 0, w*0.80+driftX*0.3, h*0.60, w*0.22);
    g5.addColorStop(0, 'rgba(255,100,200,' + (nebulaAlpha * 0.8) + ')');
    g5.addColorStop(1, 'transparent');
    ctx.fillStyle = g5; ctx.fillRect(0, 0, w, h);

    var g6 = ctx.createRadialGradient(w*0.18-driftX*0.4, h*0.25, 0, w*0.18-driftX*0.4, h*0.25, w*0.24);
    g6.addColorStop(0, 'rgba(70,120,255,' + (nebulaAlpha * 0.7) + ')');
    g6.addColorStop(1, 'transparent');
    ctx.fillStyle = g6; ctx.fillRect(0, 0, w, h);

    var sbClamped = Math.min(1, Math.max(0, sunBright));
    var g4 = ctx.createRadialGradient(w*0.5, h*0.45, 0, w*0.5, h*0.45, w*0.38);
    g4.addColorStop(0, 'rgba(255,200,90,' + (0.07 * sbClamped) + ')');
    g4.addColorStop(0.6, 'rgba(255,160,60,' + (0.03 * sbClamped) + ')');
    g4.addColorStop(1, 'transparent');
    ctx.fillStyle = g4; ctx.fillRect(0, 0, w, h);

    // ====== CANVAS: STARS ======
    var pxF = [0.010, 0.025, 0.040];
    for(var si = 0; si < stars.length; si++){
      var s = stars[si];
      var L = layers[s.layer];
      s.x += s.drift * dt * 60;
      if(s.x < -4) s.x = w + 4;
      if(s.x > w + 4) s.x = -4;
      if(grav){
        var gdx = grav.x - s.x, gdy = grav.y - s.y;
        var gd = Math.sqrt(gdx*gdx + gdy*gdy);
        if(gd < 200 && gd > 5){ var gp = 0.003*(1-gd/200); s.x += gdx*gp; s.y += gdy*gp; }
      }
      var px = s.x + (mx-0.5)*w*pxF[s.layer];
      var py = s.y + (my-0.5)*h*pxF[s.layer];
      var tw = (s.a0 + Math.sin(t*(1.1+L.tw) + s.phase)*0.16) * starBoost;
      var a = Math.max(0, Math.min(1, tw));
      var sc = s.hue < 0.06 ? 'rgba(180,205,255,' + a + ')'
             : s.hue > 0.95 ? 'rgba(255,215,175,' + a + ')'
             : 'rgba(255,255,255,' + a + ')';
      ctx.beginPath(); ctx.arc(px, py, s.r, 0, Math.PI*2); ctx.fillStyle = sc; ctx.fill();
    }

    // ====== CANVAS: CONSTELLATIONS ======
    var ca = (0.025 + Math.sin(t*0.4)*0.012) * starBoost;
    ctx.strokeStyle = 'rgba(160,130,255,' + Math.min(0.15, ca) + ')';
    ctx.lineWidth = 0.5;
    for(var li2 = 0; li2 < links.length; li2++){
      var la = links[li2][0], lb = links[li2][1];
      ctx.beginPath();
      ctx.moveTo(la.x+(mx-0.5)*w*pxF[la.layer], la.y+(my-0.5)*h*pxF[la.layer]);
      ctx.lineTo(lb.x+(mx-0.5)*w*pxF[lb.layer], lb.y+(my-0.5)*h*pxF[lb.layer]);
      ctx.stroke();
    }

    // ====== CANVAS: DUST MOTES ======
    for(var mi = 0; mi < motes.length; mi++){
      var m = motes[mi];
      m.x += (m.vx + Math.sin(t*0.3 + m.phase)*0.1) * dt * 60;
      m.y += (m.vy + Math.cos(t*0.2 + m.phase)*0.05) * dt * 60;
      if(m.x < 0) m.x = w; if(m.x > w) m.x = 0;
      if(m.y < 0) m.y = h; if(m.y > h) m.y = 0;
      var moteA = (0.06 + Math.sin(t*0.8 + m.phase)*0.03) * sbClamped;
      ctx.beginPath(); ctx.arc(m.x, m.y, m.r, 0, Math.PI*2);
      ctx.fillStyle = 'rgba(255,230,180,' + moteA + ')'; ctx.fill();
    }

    // ====== CANVAS: GOD RAYS ======
    if(sunBright > 0.12){
      var sunScreenX = w * 0.5;
      var sunScreenY = h * 0.40;
      var sbRay = Math.min(sunBright, 6);
      ctx.save();
      ctx.globalCompositeOperation = 'screen';
      for(var ri = 0; ri < 18; ri++){
        var rAngle = (ri / 18) * Math.PI * 2 + t * 0.015;
        var baseLen = w * (0.18 + Math.sin(t*0.25 + ri*1.1)*0.10);
        var rLen = baseLen * Math.min(sbRay, 3);
        var rWidth = Math.min(20, (3 + Math.sin(t*0.4 + ri*0.7) * 2) * sbRay);
        var grad = ctx.createLinearGradient(
          sunScreenX, sunScreenY,
          sunScreenX + Math.cos(rAngle) * rLen,
          sunScreenY + Math.sin(rAngle) * rLen * 0.55
        );
        var rayA = Math.min(0.5, 0.08 * sbRay);
        var rayA2 = Math.min(0.35, 0.05 * sbRay);
        grad.addColorStop(0, 'rgba(255,230,140,' + rayA + ')');
        grad.addColorStop(0.3, 'rgba(255,210,100,' + rayA2 + ')');
        grad.addColorStop(1, 'rgba(255,200,80,0)');
        ctx.beginPath();
        ctx.moveTo(sunScreenX, sunScreenY);
        ctx.lineTo(sunScreenX + Math.cos(rAngle) * rLen, sunScreenY + Math.sin(rAngle) * rLen * 0.55);
        ctx.lineWidth = rWidth;
        ctx.strokeStyle = grad;
        ctx.stroke();
      }
      ctx.restore();
    }

    // ====== CANVAS: SUPERNOVA PARTICLES ======
    if(phase === 'supernova' && !novaSpawned && phaseT > 0.05){
      spawnNova();
    }
    if(novaSpawned){
      ctx.save();
      ctx.globalCompositeOperation = 'screen';
      for(var ni = 0; ni < novaParticles.length; ni++){
        var np = novaParticles[ni];
        if(np.life <= 0) continue;
        np.x += np.vx * dt;
        np.y += np.vy * dt;
        np.vx *= (1 - 1.2 * dt);
        np.vy *= (1 - 1.2 * dt);
        np.life -= dt;
        var na = Math.max(0, np.life / np.maxLife);
        ctx.beginPath();
        ctx.arc(np.x, np.y, np.size * (0.3 + na * 0.7), 0, Math.PI * 2);
        ctx.fillStyle = 'rgba(' + np.cr + ',' + np.cg + ',' + np.cb + ',' + (na * 0.75) + ')';
        ctx.fill();
      }
      ctx.restore();
    }

    // ====== CANVAS: SHOCKWAVE RING ======
    if(phase === 'supernova' && phaseT > 0.08){
      var swP = (phaseT - 0.08) / 0.92;
      var swR = swP * Math.max(w, h) * 0.55;
      var swA = Math.max(0, 1 - swP * 1.4);
      ctx.save();
      ctx.globalCompositeOperation = 'screen';
      // Outer purple ring
      ctx.beginPath();
      ctx.arc(w * 0.5, h * 0.40, swR, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(200,160,255,' + (swA * 0.4) + ')';
      ctx.lineWidth = 4 + (1 - swP) * 12;
      ctx.stroke();
      // Inner golden ring
      ctx.beginPath();
      ctx.arc(w * 0.5, h * 0.40, swR * 0.96, 0, Math.PI * 2);
      ctx.strokeStyle = 'rgba(255,240,200,' + (swA * 0.25) + ')';
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.restore();
    }

    // ====== DOM: ATMOSPHERE ======
    var wR = Math.round(120 + warmth * 40);
    var wG = Math.round(60 + warmth * 30);
    var wB = Math.round(220 - warmth * 60);
    var cR = Math.round(60 + ecl * 20);
    var cB = Math.round(180 + ecl * 75);
    atmo.style.background =
      'radial-gradient(600px 500px at ' + (28 + Math.sin(t*0.1)*3) + '% ' + (42 + Math.cos(t*0.08)*2) + '%, rgba(' + wR + ',' + wG + ',' + wB + ',' + (0.10 + ecl*0.04) + '), transparent 65%),' +
      'radial-gradient(650px 520px at ' + (72 - Math.sin(t*0.12)*3) + '% 34%, rgba(255,' + Math.round(120 - ecl*40) + ',' + Math.round(210 - ecl*60) + ',' + (0.07 + ecl*0.03) + '), transparent 68%),' +
      'radial-gradient(720px 600px at 50% 62%, rgba(' + cR + ',60,' + cB + ',' + (0.06 + ecl*0.05) + '), transparent 70%)';

    // ====== DOM: ECLIPSE DARKNESS ======
    darkness.style.opacity = ecl * 0.88;

    // ====== DOM: SUN ELEMENTS ======
    if(phase === 'sun' || phase === 'eclipse' || phase === 'recovery'){
      // Normal sun rendering
      sunGlow.style.opacity = sbClamped * (0.7 + Math.sin(t*1.2)*0.15);
      sunGlow.style.transform = 'scale(' + glowScale + ')';
      raysWrap.style.opacity = Math.pow(sbClamped, 2);
      sunSvg.style.filter = 'brightness(' + sbClamped + ')';
      sunSvg.style.opacity = 1;
      eclStage.style.opacity = 1;
      eclStage.style.transform = 'scale(1)';

      // 143 brand mark
      if(phase === 'eclipse'){
        var brandFade = Math.pow(sbClamped, 1.5);
        brand143.style.filter = 'brightness(' + (0.05 + brandFade * 0.95) + ')';
        brand143.style.opacity = brandFade * (0.92 + Math.sin(t*0.6)*0.04);
      } else {
        brand143.style.filter = 'brightness(1)';
        brand143.style.opacity = 0.92 + Math.sin(t*0.6)*0.04;
      }
      brand143.style.transform = 'scale(1)';
    } else if(phase === 'supernova'){
      // Sun goes hyperbright then dissolves
      var stageVis = Math.max(0, 1 - phaseT * 2.5);
      var sbSuper = Math.min(6, sunBright);
      eclStage.style.opacity = stageVis;
      eclStage.style.transform = 'scale(' + (1 + phaseT * 0.4) + ')';
      sunGlow.style.opacity = Math.min(1, sbSuper * 0.5) * stageVis;
      sunGlow.style.transform = 'scale(' + (1 + phaseT * 2.5) + ')';
      raysWrap.style.opacity = Math.min(1, Math.pow(sbSuper, 0.5) * 0.8) * stageVis;
      sunSvg.style.filter = 'brightness(' + sbSuper + ') saturate(' + (1 + phaseT * 3) + ')';
      sunSvg.style.opacity = stageVis;
      // 143 text scales up and burns away
      var brandVis = Math.max(0, 1 - phaseT * 3.5);
      brand143.style.filter = 'brightness(' + sbSuper + ')';
      brand143.style.opacity = brandVis;
      brand143.style.transform = 'scale(' + (1 + phaseT * 0.8) + ')';
    } else {
      // Logo/idle — sun is gone
      eclStage.style.opacity = 0;
    }

    // ====== DOM: MOON ======
    if(phase === 'eclipse'){
      var mp = moonPos(phaseT);
      moonEl.style.left = mp.x + '%';
      moonEl.style.top = mp.y + '%';
      moonEl.style.opacity = mp.opacity;
      var mg = ecl * 0.9;
      moonEl.style.filter =
        'drop-shadow(0 0 ' + (14 + mg*46) + 'px rgba(160,90,255,' + (0.45 + mg*0.55) + '))' +
        ' drop-shadow(0 0 ' + (30 + mg*90) + 'px rgba(140,60,255,' + (0.18 + mg*0.67) + '))' +
        ' drop-shadow(0 0 ' + (60 + mg*140) + 'px rgba(120,40,255,' + (mg*0.55) + '))';
    } else {
      moonEl.style.opacity = 0;
    }

    // ====== DOM: ECLIPSE RING, BLOOM, FLARE, DIAMOND ======
    if(phase === 'eclipse'){
      var ringA = ecl > 0.3 ? (ecl - 0.3) / 0.7 : 0;
      ring.style.borderColor = 'rgba(180,120,255,' + (ringA * 0.50) + ')';
      ring.style.boxShadow =
        '0 0 ' + (60*ringA) + 'px rgba(160,90,255,' + (ringA*0.55) + '),' +
        '0 0 ' + (130*ringA) + 'px rgba(140,60,255,' + (ringA*0.35) + '),' +
        '0 0 ' + (200*ringA) + 'px rgba(120,40,255,' + (ringA*0.18) + '),' +
        'inset 0 0 ' + (50*ringA) + 'px rgba(160,90,255,' + (ringA*0.25) + ')';

      var bloomA = ecl > 0.25 ? (ecl - 0.25) / 0.75 : 0;
      eclBloom.style.opacity = bloomA;
      eclBloom.style.transform = 'scale(' + (0.8 + bloomA * 0.35) + ')';

      var flareA = ecl > 0.35 ? Math.pow((ecl - 0.35) / 0.65, 2) : 0;
      flareEl.style.opacity = flareA;

      var dr = diamondRingCalc(phaseT);
      diamond.style.opacity = dr.opacity;
      diamond.style.left = dr.x + '%';
      diamond.style.top = dr.y + '%';
    } else {
      ring.style.borderColor = 'transparent';
      ring.style.boxShadow = '0 0 0 transparent';
      eclBloom.style.opacity = 0;
      flareEl.style.opacity = 0;
      diamond.style.opacity = 0;
    }

    // ====== DOM: SUPERNOVA FLASH ======
    if(phase === 'supernova'){
      var flashA = 0;
      if(phaseT > 0.06 && phaseT < 0.48){
        if(phaseT < 0.14) flashA = (phaseT - 0.06) / 0.08;
        else flashA = Math.max(0, 1 - (phaseT - 0.14) / 0.34);
        flashA *= 0.88;
      }
      flash.style.opacity = flashA;
    } else {
      flash.style.opacity = 0;
    }

    // ====== DOM: LOGO REVEAL ======
    if((phase === 'logo' || phase === 'idle') && !logoRevealed){
      logoEl.classList.add('visible');
      logoRevealed = true;
    }

    // ====== DOM: PLATE LIGHTING ======
    if(phase === 'logo' || phase === 'idle'){
      // Ambient purple glow after supernova
      plate.style.background =
        'radial-gradient(700px 160px at 50% -30px,' +
          'rgba(126,63,255,0.07),rgba(100,40,200,0.025) 50%,transparent 85%),' +
        'radial-gradient(900px 300px at 50% 8%,' +
          'rgba(0,0,0,0),rgba(0,0,0,0.28) 50%,rgba(0,0,0,0.40) 100%),' +
        'linear-gradient(180deg,rgba(10,0,24,0.05),rgba(10,0,24,0.28))';
      plate.style.boxShadow =
        '0 26px 80px rgba(0,0,0,0.40),' +
        'inset 0 1px 0 rgba(200,160,255,0.12),' +
        '0 0 40px rgba(126,63,255,0.10)';
      plate.style.borderColor = 'rgba(160,90,255,0.14)';
      row1.style.textShadow =
        '0 0 8px rgba(255,255,255,0.40),' +
        '0 0 20px rgba(200,160,255,0.30),' +
        '0 0 40px rgba(160,100,255,0.15),' +
        '0 6px 24px rgba(0,0,0,0.50)';
    } else {
      // Normal sun-reactive plate lighting
      var wGlow = sbClamped * 0.22;
      var eGlow = ecl * 0.22;
      plate.style.background =
        'radial-gradient(700px 160px at 50% -30px,' +
          'rgba(255,210,90,' + wGlow + '),rgba(255,180,60,' + (wGlow*0.4) + ') 50%,transparent 85%),' +
        'radial-gradient(900px 300px at 50% 8%,' +
          'rgba(0,0,0,0),rgba(0,0,0,' + (0.24 + ecl*0.16) + ') 50%,rgba(0,0,0,' + (0.36 + ecl*0.14) + ') 100%),' +
        'linear-gradient(180deg,rgba(10,0,24,' + (0.03 + ecl*0.08) + '),rgba(10,0,24,' + (0.26 + ecl*0.14) + '))';
      plate.style.boxShadow =
        '0 26px 80px rgba(0,0,0,' + (0.35 + ecl*0.15) + '),' +
        'inset 0 1px 0 rgba(255,' + Math.round(230*sbClamped+180*(1-sbClamped)) + ',' + Math.round(180*sbClamped+255*(1-sbClamped)) + ',' + (0.10 + sbClamped*0.08) + '),' +
        '0 -12px ' + (40*sbClamped) + 'px rgba(255,200,80,' + (wGlow*0.6) + '),' +
        '0 0 ' + (55*ecl) + 'px rgba(126,63,255,' + eGlow + ')';
      plate.style.borderColor = 'rgba(' + Math.round(255*sbClamped+160*ecl) + ',' + Math.round(220*sbClamped+90*ecl) + ',' + Math.round(160*sbClamped+255*ecl) + ',' + (0.12 + sbClamped*0.06 + ecl*0.06) + ')';

      var headGlow = sbClamped * 0.55 + Math.sin(t*1.1)*0.10;
      row1.style.textShadow =
        '0 0 ' + (12*sbClamped) + 'px rgba(255,255,255,' + (0.5 + sbClamped*0.35) + '),' +
        '0 0 ' + (30*sbClamped) + 'px rgba(255,220,100,' + headGlow + '),' +
        '0 0 ' + (60*sbClamped) + 'px rgba(255,180,60,' + (headGlow*0.5) + '),' +
        '0 6px 24px rgba(0,0,0,0.50)';
    }

    // ====== DOM: CURSOR GLOW ======
    if(innerWidth > 720){
      glow.style.left = mx * innerWidth + 'px';
      glow.style.top = my * innerHeight + 'px';
    }

    requestAnimationFrame(frame);
  }

  new ResizeObserver(function(){ resize(); seedStars(); buildLinks(); seedMotes(); }).observe(scene);
  resize(); seedStars(); buildLinks(); seedMotes();
  requestAnimationFrame(frame);
})();

/* ====== FILM GRAIN ====== */
(function(){
  var g = document.querySelector('.grain'), c = g.getContext('2d');
  var s = 256; g.width = s; g.height = s;
  var img = c.createImageData(s, s);
  for(var i = 0; i < img.data.length; i += 4){
    var v = Math.random()*255;
    img.data[i] = img.data[i+1] = img.data[i+2] = v; img.data[i+3] = 255;
  }
  c.putImageData(img, 0, 0);
})();
</script>
</body>
</html>