<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>143 Leadership — Hero</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;800;900&display=swap" rel="stylesheet"/>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --ink:#060014;--deep:#0c0023;
  --grape:rgba(126,63,255,0.98);
  --font:'Outfit',system-ui,sans-serif;
  /* Eclipse phase driven by JS — everything reads these */
  --eclipse:0;--sun-bright:1;--temp:0;
}
body{margin:0;background:var(--ink);font-family:var(--font);overflow-x:hidden;-webkit-font-smoothing:antialiased}

/* ====== HERO — 3D perspective container ====== */
.hero{
  position:relative;min-height:100vh;overflow:hidden;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  isolation:isolate;perspective:1200px;
  background:linear-gradient(180deg,var(--deep),var(--ink));
}

/* ====== CANVAS — single unified render surface ====== */
canvas.scene{position:absolute;inset:0;width:100%;height:100%;z-index:0}

/* ====== ATMOSPHERE — JS controls color temp ====== */
.atmosphere{
  position:absolute;inset:-10%;z-index:1;pointer-events:none;
  opacity:0.8;mix-blend-mode:screen;filter:blur(28px) saturate(1.1);
  transition:background 0.3s;
}

/* ====== VIGNETTE ====== */
.vignette{
  position:absolute;inset:0;z-index:6;pointer-events:none;
  background:radial-gradient(ellipse 72% 62% at 50% 44%,transparent 38%,rgba(0,0,0,0.55) 100%);
}

/* ====== ECLIPSE DARKNESS — JS driven ====== */
.eclipse-darkness{
  position:absolute;inset:0;z-index:5;pointer-events:none;
  background:rgba(0,0,0,0.85);opacity:0;transition:opacity 0.15s;
}

/* ====== FILM GRAIN ====== */
.grain{
  position:absolute;inset:-50%;z-index:20;pointer-events:none;
  opacity:0.026;mix-blend-mode:overlay;
  animation:grainShift 0.5s steps(4) infinite;
}
@keyframes grainShift{
  0%{transform:translate(0,0)}25%{transform:translate(-2%,3%)}
  50%{transform:translate(3%,-1%)}75%{transform:translate(-1%,-2%)}
}

/* ====== SHOOTING STARS ====== */
.shooting-star{
  position:absolute;z-index:1;height:1.5px;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,0.8) 40%,transparent);
  opacity:0;pointer-events:none;filter:drop-shadow(0 0 4px rgba(255,255,255,0.3));
}
.ss-1{width:150px;top:14%;left:-18%;animation:shoot1 12s 3s ease-in-out infinite}
.ss-2{width:110px;top:26%;left:-12%;animation:shoot2 16s 9s ease-in-out infinite}
.ss-3{width:90px;top:38%;left:-10%;animation:shoot3 20s 14s ease-in-out infinite}
@keyframes shoot1{
  0%,72%{opacity:0;transform:translateX(0) rotate(16deg)}
  75%{opacity:0.85}81%{opacity:0;transform:translateX(155vw) rotate(16deg)}100%{opacity:0}
}
@keyframes shoot2{
  0%,68%{opacity:0;transform:translateX(0) rotate(24deg)}
  72%{opacity:0.7}79%{opacity:0;transform:translateX(145vw) rotate(24deg)}100%{opacity:0}
}
@keyframes shoot3{
  0%,74%{opacity:0;transform:translateX(0) rotate(-12deg)}
  77%{opacity:0.6}84%{opacity:0;transform:translateX(140vw) rotate(-12deg)}100%{opacity:0}
}

/* ====== CURSOR GLOW ====== */
.cursor-glow{
  position:fixed;width:360px;height:360px;border-radius:50%;
  background:radial-gradient(circle,rgba(175,120,255,0.06),transparent 70%);
  pointer-events:none;z-index:4;transform:translate(-50%,-50%);
}

/* ====== HORIZON ====== */
.horizon{
  position:absolute;bottom:0;left:0;right:0;height:22%;z-index:1;
  background:linear-gradient(0deg,rgba(40,10,80,0.45),rgba(80,30,140,0.12) 40%,transparent);
  pointer-events:none;
}

/* ====== ECLIPSE STAGE ====== */
.eclipse-stage{
  position:relative;z-index:9;
  width:min(600px,90vw);aspect-ratio:1;
  display:grid;place-items:center;pointer-events:none;
  margin-bottom:-80px;
  transform-style:preserve-3d;
}

/* ====== SUN GLOW — JS brightness, much more radiance ====== */
.sun-glow{
  position:absolute;width:95%;height:95%;border-radius:50%;z-index:0;
  background:radial-gradient(circle,
    rgba(255,220,100,0.30) 0%,rgba(255,200,80,0.20) 20%,
    rgba(255,180,60,0.12) 40%,rgba(255,160,50,0.05) 60%,transparent 80%);
  transition:opacity 0.2s,transform 0.3s;
}

/* ====== CONIC RAYS — JS opacity ====== */
.rays-wrap{
  position:absolute;width:100%;height:100%;display:grid;place-items:center;
  transition:opacity 0.15s;
}
.rays{
  position:absolute;width:74%;height:74%;border-radius:50%;z-index:1;
  background:conic-gradient(from 0deg,
    rgba(255,255,255,0) 0deg,rgba(255,240,200,0.26) 3deg,rgba(255,255,255,0) 6deg);
  filter:blur(0.3px);mix-blend-mode:screen;opacity:0.82;
  animation:raySpin 36s linear infinite;
}
.rays::after{
  content:"";position:absolute;inset:8%;border-radius:50%;
  background:conic-gradient(from 40deg,
    rgba(255,255,255,0) 0deg,rgba(255,210,130,0.18) 2.5deg,rgba(255,255,255,0) 5deg);
  opacity:0.75;animation:raySpin 44s linear infinite reverse;mix-blend-mode:screen;filter:blur(0.5px);
}
@keyframes raySpin{to{transform:rotate(360deg)}}

/* ====== SUN SVG — with surface turbulence ====== */
.sun-svg{
  width:100%;height:100%;overflow:visible;position:relative;z-index:2;
  animation:sunBreathe 6s ease-in-out infinite;
}
@keyframes sunBreathe{
  0%,100%{transform:scale(1);filter:brightness(1) saturate(1)}
  25%{transform:scale(1.008);filter:brightness(1.03) saturate(1.05)}
  50%{transform:scale(1.012);filter:brightness(1.05) saturate(1.08)}
  75%{transform:scale(1.006);filter:brightness(1.02) saturate(1.03)}
}

/* ====== 143 BRAND MARK — z-index below moon so eclipse covers it ====== */
.brand-143{
  position:absolute;z-index:3;
  font-weight:900;font-size:clamp(52px,12vw,110px);
  letter-spacing:0.04em;
  color:rgba(255,255,255,0.98);
  text-shadow:
    0 0 10px rgba(160,90,255,0.95),0 0 28px rgba(126,63,255,0.85),
    0 0 55px rgba(126,63,255,0.55),0 0 100px rgba(100,40,255,0.35),
    0 0 160px rgba(80,20,255,0.18),0 4px 20px rgba(0,0,0,0.40);
  pointer-events:none;-webkit-user-select:none;user-select:none;
  margin-top:6%;transition:filter 0.2s,opacity 0.2s;
}

/* ====== MOON — JS positioned, sized to match sun disc ====== */
.moon-layer{
  position:absolute;z-index:10;
  width:34%;aspect-ratio:1;border-radius:50%;
  pointer-events:none;will-change:left,top,opacity,filter;
  transition:filter 0.1s;
}
/* ====== DIAMOND RING FLASH — JS toggled ====== */
.diamond-ring{
  position:absolute;z-index:11;width:8px;height:8px;border-radius:50%;
  background:#fff;opacity:0;pointer-events:none;
  box-shadow:
    0 0 12px 6px rgba(255,255,255,0.95),
    0 0 30px 15px rgba(255,240,200,0.80),
    0 0 60px 30px rgba(255,220,120,0.50),
    0 0 120px 60px rgba(255,200,80,0.30),
    0 0 200px 80px rgba(200,160,255,0.20);
  transition:opacity 0.15s;
}
.moon-layer svg{width:100%;height:100%;display:block}

/* ====== ECLIPSE CORONA RING — JS driven ====== */
.eclipse-ring{
  position:absolute;z-index:5;width:58%;height:58%;border-radius:50%;
  border:2px solid transparent;background:transparent;
  pointer-events:none;margin-top:6%;transition:border-color 0.15s,box-shadow 0.15s;
}

/* ====== LENS FLARE — JS driven ====== */
.lens-flare{
  position:absolute;z-index:6;width:160%;height:3px;left:-30%;top:53%;
  background:linear-gradient(90deg,transparent 0%,rgba(160,120,255,0) 20%,
    rgba(200,160,255,0.30) 40%,rgba(255,240,255,0.55) 50%,
    rgba(200,160,255,0.30) 60%,rgba(160,120,255,0) 80%,transparent);
  filter:blur(1.5px);pointer-events:none;transition:opacity 0.15s;
}

/* ====== ECLIPSE BLOOM — JS driven ====== */
.eclipse-bloom{
  position:absolute;z-index:4;width:55%;height:55%;border-radius:50%;
  background:radial-gradient(circle,rgba(140,80,255,0.30),rgba(120,50,255,0.12) 40%,transparent 70%);
  pointer-events:none;margin-top:6%;transition:opacity 0.15s,transform 0.15s;
}

/* ====== GLASSMORPHISM PLATE — JS light ====== */
.hero-copy{
  position:relative;z-index:12;text-align:center;
  padding:36px 32px 30px;max-width:1040px;
  border:1px solid rgba(255,255,255,0.10);border-radius:22px;
  backdrop-filter:blur(14px) saturate(1.15);
  -webkit-backdrop-filter:blur(14px) saturate(1.15);
  color:rgba(255,255,255,0.94);
  transition:background 0.3s,box-shadow 0.3s;
}

/* ====== ROW 1 — THE HEADLINE THAT LIVES ====== */
.row-1{
  margin:0;font-weight:900;text-transform:uppercase;
  font-size:clamp(28px,4.6vw,62px);letter-spacing:0.04em;line-height:1.05;
  color:#FFFEF5;position:relative;overflow:hidden;
  transition:text-shadow 0.3s;
}
.row-1::after{
  content:'';position:absolute;inset:0;
  background:linear-gradient(105deg,transparent 30%,rgba(255,255,255,0.10) 48%,
    rgba(255,255,255,0.16) 50%,rgba(255,255,255,0.10) 52%,transparent 70%);
  animation:sweep 7s 4s ease-in-out infinite;pointer-events:none;
}
@keyframes sweep{0%,60%{transform:translateX(-150%)}40%{transform:translateX(150%)}100%{transform:translateX(150%)}}
.word{
  display:inline-block;
  opacity:0;transform:translateY(28px) scale(0.96);
  animation:wordIn 700ms calc(0.4s + var(--i) * 100ms) cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes wordIn{to{opacity:1;transform:translateY(0) scale(1)}}

/* ====== ROW 2 ====== */
.row-2{
  margin:14px 0 0;font-weight:900;text-transform:uppercase;
  font-size:clamp(16px,2.4vw,28px);letter-spacing:0.03em;line-height:1.15;
  color:var(--grape);
  text-shadow:0 6px 28px rgba(0,0,0,0.55),0 0 22px rgba(126,63,255,0.40),0 0 50px rgba(126,63,255,0.18);
  -webkit-text-stroke:0.4px rgba(255,255,255,0.06);
  opacity:0;transform:translateY(14px);
  animation:textIn 850ms 0.9s cubic-bezier(.2,.8,.2,1) forwards;
}

/* ====== ROW 3 ====== */
.row-3{
  margin-top:12px;font-weight:700;text-transform:uppercase;
  font-size:clamp(11px,1.5vw,17px);letter-spacing:0.04em;line-height:1.3;
  color:rgba(255,255,255,0.82);
  text-shadow:0 6px 22px rgba(0,0,0,0.50),0 0 12px rgba(126,63,255,0.08);
  opacity:0;transform:translateY(12px);
  animation:textIn 900ms 1.1s cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes textIn{to{opacity:1;transform:translateY(0)}}

/* ====== CTA ====== */
.cta{
  display:inline-block;margin-top:22px;padding:14px 40px;border-radius:50px;
  font-family:var(--font);font-weight:800;font-size:clamp(13px,1.6vw,16px);
  letter-spacing:0.06em;text-transform:uppercase;text-decoration:none;
  color:rgba(255,255,255,0.96);
  background:linear-gradient(135deg,rgba(126,63,255,0.88),rgba(90,30,200,0.92));
  border:1px solid rgba(255,255,255,0.14);
  box-shadow:0 8px 36px rgba(126,63,255,0.35),0 2px 8px rgba(0,0,0,0.25),
    0 0 20px rgba(126,63,255,0.18),inset 0 1px 0 rgba(255,255,255,0.12);
  cursor:pointer;position:relative;overflow:hidden;
  opacity:0;transform:translateY(12px);
  animation:textIn 800ms 1.3s cubic-bezier(.2,.8,.2,1) forwards;
  transition:transform 0.3s,box-shadow 0.3s;
}
.cta:hover{
  transform:translateY(-2px) scale(1.04);
  box-shadow:0 14px 52px rgba(126,63,255,0.50),0 4px 12px rgba(0,0,0,0.30),
    0 0 30px rgba(126,63,255,0.30),inset 0 1px 0 rgba(255,255,255,0.15);
}
.cta::after{
  content:'';position:absolute;inset:0;border-radius:inherit;
  background:radial-gradient(circle,rgba(255,255,255,0.12),transparent 70%);
  animation:ctaPulse 4.8s ease-in-out infinite;pointer-events:none;
}
@keyframes ctaPulse{0%,100%{opacity:0.3}50%{opacity:0.75}}

/* ====== MOBILE ====== */
@media(max-width:600px){
  .eclipse-stage{width:92vw;margin-bottom:-40px}
  .hero-copy{max-width:92vw;padding:22px 18px 18px}
  .brand-143{font-size:clamp(40px,14vw,80px)}
  .cursor-glow{display:none}
  .row-1{font-size:clamp(24px,7vw,38px)}
}
@media(prefers-reduced-motion:reduce){
  .rays,.rays::after,.cta::after,.lens-flare,.eclipse-bloom,
  .eclipse-darkness,.eclipse-ring,.grain,.rays-wrap,.moon-layer,.sun-glow,
  .atmosphere,.shooting-star,.row-1::after{animation:none!important}
  .word,.row-2,.row-3,.cta{animation:none!important;opacity:1;transform:none}
}
</style>
</head>
<body>
<section class="hero" aria-label="143 Leadership hero">
  <canvas class="scene" aria-hidden="true"></canvas>
  <div class="atmosphere" aria-hidden="true"></div>
  <div class="shooting-star ss-1" aria-hidden="true"></div>
  <div class="shooting-star ss-2" aria-hidden="true"></div>
  <div class="shooting-star ss-3" aria-hidden="true"></div>
  <div class="vignette" aria-hidden="true"></div>
  <div class="eclipse-darkness" aria-hidden="true"></div>
  <canvas class="grain" aria-hidden="true"></canvas>
  <div class="cursor-glow" aria-hidden="true"></div>
  <div class="horizon" aria-hidden="true"></div>

  <div class="eclipse-stage" aria-hidden="true">
    <div class="sun-glow"></div>
    <div class="rays-wrap"><div class="rays"></div></div>

    <svg class="sun-svg" viewBox="0 0 800 800" preserveAspectRatio="xMidYMid meet">
      <defs>
        <radialGradient id="photo" cx="46%" cy="44%" r="52%">
          <stop offset="0%" stop-color="#FFFEF5"/>
          <stop offset="15%" stop-color="#FFF8D6"/>
          <stop offset="30%" stop-color="#FFEC80"/>
          <stop offset="50%" stop-color="#F8D011"/>
          <stop offset="68%" stop-color="#F0B800"/>
          <stop offset="82%" stop-color="#E89D0C"/>
          <stop offset="100%" stop-color="#D4770B" stop-opacity="0"/>
        </radialGradient>
        <radialGradient id="corona" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="#FFF8D6" stop-opacity="0.5"/>
          <stop offset="15%" stop-color="#F8D011" stop-opacity="0.3"/>
          <stop offset="30%" stop-color="#F8D011" stop-opacity="0.15"/>
          <stop offset="50%" stop-color="#F0B800" stop-opacity="0.06"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <radialGradient id="outer" cx="50%" cy="50%" r="50%">
          <stop offset="0%" stop-color="#F8D011" stop-opacity="0.22"/>
          <stop offset="25%" stop-color="#F0B800" stop-opacity="0.10"/>
          <stop offset="55%" stop-color="#E89D0C" stop-opacity="0.03"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <radialGradient id="wisp" cx="50%" cy="0%" r="80%">
          <stop offset="0%" stop-color="#FFF8D6" stop-opacity="0.4"/>
          <stop offset="40%" stop-color="#F8D011" stop-opacity="0.15"/>
          <stop offset="100%" stop-color="transparent"/>
        </radialGradient>
        <filter id="bloom" x="-150%" y="-150%" width="400%" height="400%">
          <feGaussianBlur stdDeviation="14" result="b1"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="6" result="b2"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="2" result="b3"/>
          <feMerge><feMergeNode in="b1"/><feMergeNode in="b1"/><feMergeNode in="b2"/><feMergeNode in="b3"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
        <!-- Sun surface turbulence — makes the disc ALIVE -->
        <filter id="sunTurb" x="-10%" y="-10%" width="120%" height="120%">
          <feTurbulence type="fractalNoise" baseFrequency="0.015" numOctaves="4" seed="143" result="turb">
            <animate attributeName="seed" from="1" to="20" dur="3s" repeatCount="indefinite"/>
          </feTurbulence>
          <feDisplacementMap in="SourceGraphic" in2="turb" scale="4" xChannelSelector="R" yChannelSelector="G"/>
        </filter>
        <filter id="wblur" x="-300%" y="-300%" width="700%" height="700%">
          <feGaussianBlur stdDeviation="7" result="s1"/>
          <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="s2"/>
          <feMerge><feMergeNode in="s1"/><feMergeNode in="s2"/></feMerge>
        </filter>
      </defs>
      <circle cx="400" cy="430" r="300" fill="url(#outer)" opacity="0.75"/>
      <circle cx="400" cy="430" r="200" fill="url(#corona)" opacity="0.85"/>
      <g id="wisps">
        <ellipse cx="400" cy="368" rx="180" ry="32" fill="url(#wisp)" filter="url(#wblur)" opacity="0.35" transform="rotate(200,400,430)"/>
        <ellipse cx="400" cy="368" rx="160" ry="28" fill="url(#wisp)" filter="url(#wblur)" opacity="0.30" transform="rotate(240,400,430)"/>
        <ellipse cx="400" cy="368" rx="145" ry="25" fill="url(#wisp)" filter="url(#wblur)" opacity="0.25" transform="rotate(170,400,430)"/>
        <ellipse cx="400" cy="368" rx="190" ry="30" fill="url(#wisp)" filter="url(#wblur)" opacity="0.35" transform="rotate(130,400,430)"/>
        <ellipse cx="400" cy="368" rx="135" ry="25" fill="url(#wisp)" filter="url(#wblur)" opacity="0.28" transform="rotate(280,400,430)"/>
        <ellipse cx="400" cy="368" rx="165" ry="28" fill="url(#wisp)" filter="url(#wblur)" opacity="0.32" transform="rotate(320,400,430)"/>
        <ellipse cx="400" cy="368" rx="125" ry="22" fill="url(#wisp)" filter="url(#wblur)" opacity="0.22" transform="rotate(50,400,430)"/>
        <ellipse cx="400" cy="368" rx="155" ry="26" fill="url(#wisp)" filter="url(#wblur)" opacity="0.28" transform="rotate(90,400,430)"/>
      </g>
      <circle cx="400" cy="430" r="140" fill="url(#corona)" opacity="0.65"/>
      <circle id="sun-disc" cx="400" cy="430" r="110" fill="url(#photo)" filter="url(#bloom)"/>
      <!-- Turbulent overlay on the sun surface -->
      <circle cx="400" cy="430" r="106" fill="url(#photo)" filter="url(#sunTurb)" opacity="0.15"/>
    </svg>

    <span class="brand-143">143</span>

    <div class="moon-layer">
      <svg viewBox="0 0 220 220">
        <defs>
          <radialGradient id="moonSurface" cx="40%" cy="38%" r="60%">
            <stop offset="0%" stop-color="#2A0845"/>
            <stop offset="50%" stop-color="#1A0030"/>
            <stop offset="100%" stop-color="#0D001A"/>
          </radialGradient>
          <radialGradient id="crater1" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="rgba(15,0,30,0.6)"/>
            <stop offset="100%" stop-color="transparent"/>
          </radialGradient>
        </defs>
        <circle cx="110" cy="110" r="110" fill="url(#moonSurface)"/>
        <!-- Subtle crater texture -->
        <circle cx="75" cy="70" r="18" fill="url(#crater1)" opacity="0.4"/>
        <circle cx="140" cy="90" r="12" fill="url(#crater1)" opacity="0.3"/>
        <circle cx="95" cy="140" r="22" fill="url(#crater1)" opacity="0.35"/>
        <circle cx="130" cy="150" r="10" fill="url(#crater1)" opacity="0.25"/>
        <circle cx="60" cy="120" r="14" fill="url(#crater1)" opacity="0.3"/>
        <!-- Purple atmosphere -->
        <circle cx="110" cy="110" r="110" fill="#40058D" opacity="0.25"/>
        <!-- Limb darkening -->
        <circle cx="110" cy="110" r="108" fill="none" stroke="rgba(10,0,20,0.4)" stroke-width="6"/>
        <!-- Subtle rim light (catches sunlight) -->
        <circle cx="110" cy="110" r="108" fill="none" stroke="#F8D011" stroke-width="1.5" opacity="0.06"/>
      </svg>
    </div>

    <div class="eclipse-ring"></div>
    <div class="eclipse-bloom"></div>
    <div class="diamond-ring"></div>
    <div class="lens-flare"></div>
  </div>

  <div class="hero-copy">
    <h1 class="row-1">
      <span class="word" style="--i:0">UPGRADE</span>
      <span class="word" style="--i:1">YOUR</span>
      <span class="word" style="--i:2">INTERNAL</span>
      <span class="word" style="--i:3">OS</span>
    </h1>
    <p class="row-2">Live Just In A Ray Of Light</p>
    <p class="row-3">Watch Me Go First &amp; Be The Light</p>
    <a class="cta" href="#">Check My Stability</a>
  </div>
</section>

<script>
/* =====================================================
   UNIFIED SCENE ENGINE — One clock rules everything.
   Every visual element reads from the same eclipse phase.
   Nothing runs independently. This is what makes it
   feel like a world instead of PowerPoint.
   ===================================================== */
(function(){
  const DUR = 14; // eclipse cycle seconds

  // DOM refs
  const scene    = document.querySelector('.scene');
  const ctx      = scene.getContext('2d', { alpha: true });
  const atmo     = document.querySelector('.atmosphere');
  const darkness = document.querySelector('.eclipse-darkness');
  const sunGlow  = document.querySelector('.sun-glow');
  const sunSvg   = document.querySelector('.sun-svg');
  const raysWrap = document.querySelector('.rays-wrap');
  const brand143 = document.querySelector('.brand-143');
  const moonEl   = document.querySelector('.moon-layer');
  const ring     = document.querySelector('.eclipse-ring');
  const bloom    = document.querySelector('.eclipse-bloom');
  const diamond  = document.querySelector('.diamond-ring');
  const flare    = document.querySelector('.lens-flare');
  const plate    = document.querySelector('.hero-copy');
  const row1     = document.querySelector('.row-1');
  const glow     = document.querySelector('.cursor-glow');

  let w, h, dpr;
  function resize(){
    dpr = Math.min(2, devicePixelRatio || 1);
    w = scene.clientWidth; h = scene.clientHeight;
    scene.width = Math.floor(w * dpr);
    scene.height = Math.floor(h * dpr);
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
  }

  // ====== STARS ======
  const layers = [
    { count: 200, maxR: 1.0,  speed: 0.03, tw: 0.20 },
    { count: 140, maxR: 1.5,  speed: 0.07, tw: 0.26 },
    { count: 70,  maxR: 2.2,  speed: 0.11, tw: 0.32 }
  ];
  let stars = [];
  function seedStars(){
    stars = [];
    for(let li = 0; li < layers.length; li++){
      const L = layers[li];
      for(let i = 0; i < L.count; i++) stars.push({
        layer: li, x: Math.random()*w, y: Math.random()*h,
        r: Math.random()*L.maxR + 0.15,
        a0: Math.random()*0.50 + 0.08,
        phase: Math.random()*Math.PI*2,
        drift: (Math.random()*2 - 1) * L.speed,
        hue: Math.random()
      });
    }
  }

  // Constellation links
  let links = [];
  function buildLinks(){
    links = [];
    const mid = stars.filter(s => s.layer >= 1);
    for(let i = 0; i < mid.length; i++){
      let c = 0;
      for(let j = i+1; j < mid.length && c < 2; j++){
        const dx = mid[i].x - mid[j].x, dy = mid[i].y - mid[j].y;
        const d = Math.sqrt(dx*dx + dy*dy);
        if(d < 85 && d > 18 && Math.random() < 0.25){ links.push([mid[i], mid[j]]); c++; }
      }
    }
  }

  // Dust motes — tiny particles that catch sunlight
  let motes = [];
  function seedMotes(){
    motes = [];
    for(let i = 0; i < 40; i++) motes.push({
      x: Math.random()*w, y: Math.random()*h,
      r: Math.random()*0.8 + 0.3,
      vx: (Math.random()-0.5)*0.15, vy: (Math.random()-0.5)*0.08,
      phase: Math.random()*Math.PI*2
    });
  }

  // ====== MOUSE ======
  let mx = 0.5, my = 0.5, tmx = 0.5, tmy = 0.5;
  document.addEventListener('mousemove', e => {
    tmx = e.clientX / innerWidth;
    tmy = e.clientY / innerHeight;
  });

  // Plate inner light
  plate.addEventListener('mousemove', e => {
    const r = plate.getBoundingClientRect();
    plate.style.setProperty('--glow-x', (e.clientX - r.left) / r.width * 100 + '%');
    plate.style.setProperty('--glow-y', (e.clientY - r.top) / r.height * 100 + '%');
  });

  // CTA gravity
  const cta = document.querySelector('.cta');
  let grav = null;
  cta.addEventListener('mouseenter', () => {
    const r = cta.getBoundingClientRect();
    grav = { x: (r.left + r.width/2) / innerWidth * w, y: (r.top + r.height/2) / innerHeight * h };
  });
  cta.addEventListener('mouseleave', () => { grav = null; });

  // ====== ECLIPSE MATH ======
  // Smooth bell curve centered at 0.5 (totality)
  function eclipseCurve(phase){
    // phase 0..1 through the cycle
    // Eclipse window: 0.32..0.68 (centered at 0.50)
    if(phase < 0.32 || phase > 0.68) return 0;
    const t = (phase - 0.32) / 0.36; // 0..1 within eclipse window
    return Math.sin(t * Math.PI); // smooth bell
  }

  // Moon arc path — parabolic arc, 34% moon centers on sun at totality
  // Sun visual center is roughly at 50%,54% of the eclipse-stage
  // Moon is 34% wide, so to center it on the sun: left = 50-17 = 33%, top = 54-17 = 37%
  function moonPos(phase){
    if(phase < 0.03 || phase > 0.97) return { x: -5, y: 88, opacity: 0 };
    const t = Math.max(0, Math.min(1, (phase - 0.03) / 0.94));
    // Arc: starts bottom-left(-5%,88%), peaks at sun center(33%,37%), exits bottom-right(71%,88%)
    const x = -5 + t * 76;
    const y = 88 - Math.sin(t * Math.PI) * 51;
    const opacity = t < 0.06 ? t / 0.06 : t > 0.94 ? (1 - t) / 0.06 : 1;
    return { x, y, opacity: Math.min(1, opacity * 0.98) };
  }

  // Diamond ring flash — fires at first and last contact
  function diamondRing(phase){
    // First contact around phase 0.38, last contact around 0.62
    const d1 = Math.abs(phase - 0.38);
    const d2 = Math.abs(phase - 0.62);
    const closest = Math.min(d1, d2);
    if(closest > 0.025) return { opacity: 0, x: 50, y: 50 };
    const intensity = 1 - closest / 0.025;
    // Position at the limb edge
    const side = d1 < d2 ? -1 : 1; // left side for first contact, right for last
    return {
      opacity: Math.pow(intensity, 2),
      x: 50 + side * 14, // offset from center
      y: 52
    };
  }

  // ====== MAIN LOOP — REAL CLOCK, not frame counting ======
  const startTime = performance.now();
  let prevTime = startTime;

  function frame(now){
    const dt = (now - prevTime) / 1000; // seconds since last frame
    prevTime = now;
    const t = (now - startTime) / 1000; // total seconds elapsed (real time)

    mx += (tmx - mx) * Math.min(1, dt * 4);
    my += (tmy - my) * Math.min(1, dt * 4);

    // Eclipse phase (0..1) — uses REAL time, not frame count
    const phase = (t % DUR) / DUR;
    const ecl = eclipseCurve(phase); // 0..1 eclipse intensity

    // Derived values — EVERY element uses these
    const sunBright = 1 - ecl * 0.97;       // sun dims to 3% at totality — MUCH darker
    const starBoost = 1 + ecl * 2.5;        // stars get 3.5x brighter during eclipse
    const warmth = 1 - ecl;                 // color temp: warm(1) → cool(0)
    const glowScale = 1 + Math.sin(t * 1.2) * 0.04; // breathing

    // ====== DRAW STARFIELD ON CANVAS ======
    ctx.clearRect(0, 0, w, h);

    // Nebula on canvas — reacts to eclipse, MUCH more saturated
    const nebulaAlpha = 0.14 + ecl * 0.08;
    const drift = Math.sin(t * 0.08) * 14;
    const drift2 = Math.cos(t * 0.06) * 10;

    // Deep purple nebula — large, dominant
    const g1 = ctx.createRadialGradient(w*0.28+drift, h*0.42+drift2, 0, w*0.28+drift, h*0.42+drift2, w*0.40);
    g1.addColorStop(0, `rgba(160,90,255,${nebulaAlpha * 1.5})`);
    g1.addColorStop(0.5, `rgba(120,50,200,${nebulaAlpha * 0.6})`);
    g1.addColorStop(1, 'transparent');
    ctx.fillStyle = g1; ctx.fillRect(0, 0, w, h);

    // Hot pink nebula — vivid
    const g2 = ctx.createRadialGradient(w*0.72-drift, h*0.34-drift2*0.5, 0, w*0.72-drift, h*0.34-drift2*0.5, w*0.32);
    g2.addColorStop(0, `rgba(255,80,180,${nebulaAlpha * 1.2})`);
    g2.addColorStop(0.4, `rgba(255,120,210,${nebulaAlpha * 0.7})`);
    g2.addColorStop(1, 'transparent');
    ctx.fillStyle = g2; ctx.fillRect(0, 0, w, h);

    // Electric blue nebula
    const g3 = ctx.createRadialGradient(w*0.55+drift*0.7, h*0.65+drift2, 0, w*0.55+drift*0.7, h*0.65+drift2, w*0.30);
    g3.addColorStop(0, `rgba(60,130,255,${nebulaAlpha * 1.1})`);
    g3.addColorStop(0.5, `rgba(80,100,220,${nebulaAlpha * 0.5})`);
    g3.addColorStop(1, 'transparent');
    ctx.fillStyle = g3; ctx.fillRect(0, 0, w, h);

    // Second pink cloud — lower right
    const g5 = ctx.createRadialGradient(w*0.80+drift*0.3, h*0.60, 0, w*0.80+drift*0.3, h*0.60, w*0.22);
    g5.addColorStop(0, `rgba(255,100,200,${nebulaAlpha * 0.8})`);
    g5.addColorStop(1, 'transparent');
    ctx.fillStyle = g5; ctx.fillRect(0, 0, w, h);

    // Second blue cloud — upper left
    const g6 = ctx.createRadialGradient(w*0.18-drift*0.4, h*0.25, 0, w*0.18-drift*0.4, h*0.25, w*0.24);
    g6.addColorStop(0, `rgba(70,120,255,${nebulaAlpha * 0.7})`);
    g6.addColorStop(1, 'transparent');
    ctx.fillStyle = g6; ctx.fillRect(0, 0, w, h);

    // Warm sunlight nebula that fades during eclipse
    const g4 = ctx.createRadialGradient(w*0.5, h*0.45, 0, w*0.5, h*0.45, w*0.38);
    g4.addColorStop(0, `rgba(255,200,90,${0.07 * sunBright})`);
    g4.addColorStop(0.6, `rgba(255,160,60,${0.03 * sunBright})`);
    g4.addColorStop(1, 'transparent');
    ctx.fillStyle = g4; ctx.fillRect(0, 0, w, h);

    // Stars — brightness reacts to eclipse
    const pxF = [0.010, 0.025, 0.040];
    for(const s of stars){
      const L = layers[s.layer];
      s.x += s.drift * dt * 60; // normalize to 60fps equivalent
      if(s.x < -4) s.x = w + 4;
      if(s.x > w + 4) s.x = -4;
      if(grav){
        const dx = grav.x - s.x, dy = grav.y - s.y;
        const d = Math.sqrt(dx*dx + dy*dy);
        if(d < 200 && d > 5){ const p = 0.003*(1-d/200); s.x += dx*p; s.y += dy*p; }
      }
      const px = s.x + (mx-0.5)*w*pxF[s.layer];
      const py = s.y + (my-0.5)*h*pxF[s.layer];
      const tw = (s.a0 + Math.sin(t*(1.1+L.tw) + s.phase)*0.16) * starBoost;
      const a = Math.max(0, Math.min(1, tw));
      const c = s.hue < 0.06 ? `rgba(180,205,255,${a})`
              : s.hue > 0.95 ? `rgba(255,215,175,${a})`
              : `rgba(255,255,255,${a})`;
      ctx.beginPath(); ctx.arc(px, py, s.r, 0, Math.PI*2); ctx.fillStyle = c; ctx.fill();
    }

    // Constellations — also brighter during eclipse
    const ca = (0.025 + Math.sin(t*0.4)*0.012) * starBoost;
    ctx.strokeStyle = `rgba(160,130,255,${Math.min(0.15, ca)})`;
    ctx.lineWidth = 0.5;
    for(const[a, b] of links){
      ctx.beginPath();
      ctx.moveTo(a.x+(mx-0.5)*w*pxF[a.layer], a.y+(my-0.5)*h*pxF[a.layer]);
      ctx.lineTo(b.x+(mx-0.5)*w*pxF[b.layer], b.y+(my-0.5)*h*pxF[b.layer]);
      ctx.stroke();
    }

    // Dust motes — catch sunlight
    for(const m of motes){
      m.x += (m.vx + Math.sin(t*0.3 + m.phase)*0.1) * dt * 60;
      m.y += (m.vy + Math.cos(t*0.2 + m.phase)*0.05) * dt * 60;
      if(m.x < 0) m.x = w; if(m.x > w) m.x = 0;
      if(m.y < 0) m.y = h; if(m.y > h) m.y = 0;
      const moteA = (0.06 + Math.sin(t*0.8 + m.phase)*0.03) * sunBright;
      ctx.beginPath(); ctx.arc(m.x, m.y, m.r, 0, Math.PI*2);
      ctx.fillStyle = `rgba(255,230,180,${moteA})`; ctx.fill();
    }

    // Volumetric god rays from sun center — thick, cinematic
    if(sunBright > 0.12){
      const sunScreenX = w * 0.5;
      const sunScreenY = h * 0.40;
      ctx.save();
      ctx.globalCompositeOperation = 'screen';
      for(let i = 0; i < 18; i++){
        const angle = (i / 18) * Math.PI * 2 + t * 0.015;
        const baseLen = w * (0.18 + Math.sin(t*0.25 + i*1.1)*0.10);
        const len = baseLen * sunBright;
        const width = (3 + Math.sin(t*0.4 + i*0.7) * 2) * sunBright;
        // Gradient along the ray
        const grad = ctx.createLinearGradient(
          sunScreenX, sunScreenY,
          sunScreenX + Math.cos(angle) * len,
          sunScreenY + Math.sin(angle) * len * 0.55
        );
        grad.addColorStop(0, `rgba(255,230,140,${0.08 * sunBright})`);
        grad.addColorStop(0.3, `rgba(255,210,100,${0.05 * sunBright})`);
        grad.addColorStop(1, 'rgba(255,200,80,0)');
        ctx.beginPath();
        ctx.moveTo(sunScreenX, sunScreenY);
        ctx.lineTo(
          sunScreenX + Math.cos(angle) * len,
          sunScreenY + Math.sin(angle) * len * 0.55
        );
        ctx.lineWidth = width;
        ctx.strokeStyle = grad;
        ctx.stroke();
      }
      ctx.restore();
    }

    // ====== UPDATE DOM ELEMENTS VIA JS (UNIFIED CLOCK) ======

    // Atmosphere — color temp shifts cool during eclipse
    const warmR = Math.round(120 + warmth * 40);
    const warmG = Math.round(60 + warmth * 30);
    const warmB = Math.round(220 - warmth * 60);
    const coolR = Math.round(60 + ecl * 20);
    const coolB = Math.round(180 + ecl * 75);
    atmo.style.background = `
      radial-gradient(600px 500px at ${28 + Math.sin(t*0.1)*3}% ${42 + Math.cos(t*0.08)*2}%, rgba(${warmR},${warmG},${warmB},${0.10 + ecl*0.04}), transparent 65%),
      radial-gradient(650px 520px at ${72 - Math.sin(t*0.12)*3}% 34%, rgba(255,${120 - ecl*40},${210 - ecl*60},${0.07 + ecl*0.03}), transparent 68%),
      radial-gradient(720px 600px at 50% 62%, rgba(${coolR},${60},${coolB},${0.06 + ecl*0.05}), transparent 70%)
    `;

    // Eclipse darkness — goes nearly black at totality
    darkness.style.opacity = ecl * 0.88;

    // Sun glow
    sunGlow.style.opacity = sunBright * (0.7 + Math.sin(t*1.2)*0.15);
    sunGlow.style.transform = `scale(${glowScale})`;

    // Rays — disappear aggressively during eclipse
    raysWrap.style.opacity = Math.pow(sunBright, 2); // quadratic falloff

    // Sun SVG itself dims during eclipse
    sunSvg.style.filter = `brightness(${sunBright})`;

    // 143 brand mark — fades smoothly into eclipse, doesn't clip behind moon
    const brandFade = Math.pow(sunBright, 1.5); // faster fade than linear
    brand143.style.filter = `brightness(${0.05 + brandFade * 0.95})`;
    brand143.style.opacity = brandFade * (0.92 + Math.sin(t*0.6)*0.04);

    // Moon position
    const mp = moonPos(phase);
    moonEl.style.left = mp.x + '%';
    moonEl.style.top = mp.y + '%';
    moonEl.style.opacity = mp.opacity;
    // Moon glow intensifies near totality
    const moonGlow = ecl * 0.9;
    moonEl.style.filter = `
      drop-shadow(0 0 ${14 + moonGlow*46}px rgba(160,90,255,${0.45 + moonGlow*0.55}))
      drop-shadow(0 0 ${30 + moonGlow*90}px rgba(140,60,255,${0.18 + moonGlow*0.67}))
      drop-shadow(0 0 ${60 + moonGlow*140}px rgba(120,40,255,${moonGlow*0.55}))
    `;

    // Eclipse corona ring
    const ringA = ecl > 0.3 ? (ecl - 0.3) / 0.7 : 0;
    ring.style.borderColor = `rgba(180,120,255,${ringA * 0.50})`;
    ring.style.boxShadow = `
      0 0 ${60*ringA}px rgba(160,90,255,${ringA*0.55}),
      0 0 ${130*ringA}px rgba(140,60,255,${ringA*0.35}),
      0 0 ${200*ringA}px rgba(120,40,255,${ringA*0.18}),
      inset 0 0 ${50*ringA}px rgba(160,90,255,${ringA*0.25})
    `;

    // Bloom
    const bloomA = ecl > 0.25 ? (ecl - 0.25) / 0.75 : 0;
    bloom.style.opacity = bloomA;
    bloom.style.transform = `scale(${0.8 + bloomA * 0.35})`;

    // Lens flare
    const flareA = ecl > 0.35 ? Math.pow((ecl - 0.35) / 0.65, 2) : 0;
    flare.style.opacity = flareA;

    // Diamond ring flash at first/last contact
    const dr = diamondRing(phase);
    diamond.style.opacity = dr.opacity;
    diamond.style.left = dr.x + '%';
    diamond.style.top = dr.y + '%';

    // ====== PLATE REACTS TO SUNLIGHT ======
    // Warm golden glow on the top edge when sun is bright — STRONGER
    const warmGlow = sunBright * 0.22;
    const eclGlow = ecl * 0.22;
    plate.style.background = `
      radial-gradient(700px 160px at 50% -30px,
        rgba(255,210,90,${warmGlow}),rgba(255,180,60,${warmGlow*0.4}) 50%,transparent 85%),
      radial-gradient(900px 300px at 50% 8%,
        rgba(0,0,0,0),rgba(0,0,0,${0.24 + ecl*0.16}) 50%,rgba(0,0,0,${0.36 + ecl*0.14}) 100%),
      linear-gradient(180deg,rgba(10,0,24,${0.03 + ecl*0.08}),rgba(10,0,24,${0.26 + ecl*0.14}))
    `;
    plate.style.boxShadow = `
      0 26px 80px rgba(0,0,0,${0.35 + ecl*0.15}),
      inset 0 1px 0 rgba(255,${Math.round(230*sunBright+180*(1-sunBright))},${Math.round(180*sunBright+255*(1-sunBright))},${0.10 + sunBright*0.08}),
      0 -12px ${40*sunBright}px rgba(255,200,80,${warmGlow*0.6}),
      0 0 ${55*ecl}px rgba(126,63,255,${eclGlow})
    `;
    // Border: warm gold shimmer in bright, purple glow during eclipse
    plate.style.borderColor = `rgba(${Math.round(255*sunBright+160*ecl)},${Math.round(220*sunBright+90*ecl)},${Math.round(160*sunBright+255*ecl)},${0.12 + sunBright*0.06 + ecl*0.06})`;

    // Headline glow reacts to sun
    const headGlow = sunBright * 0.55 + Math.sin(t*1.1)*0.10;
    row1.style.textShadow = `
      0 0 ${12*sunBright}px rgba(255,255,255,${0.5 + sunBright*0.35}),
      0 0 ${30*sunBright}px rgba(255,220,100,${headGlow}),
      0 0 ${60*sunBright}px rgba(255,180,60,${headGlow*0.5}),
      0 6px 24px rgba(0,0,0,0.50)
    `;

    // Cursor glow
    if(innerWidth > 720){
      glow.style.left = mx * innerWidth + 'px';
      glow.style.top = my * innerHeight + 'px';
    }

    requestAnimationFrame(frame);
  }

  new ResizeObserver(() => { resize(); seedStars(); buildLinks(); seedMotes(); }).observe(scene);
  resize(); seedStars(); buildLinks(); seedMotes();
  requestAnimationFrame(frame); // rAF passes DOMHighResTimeStamp = performance.now()
})();

/* ====== FILM GRAIN ====== */
(function(){
  const g = document.querySelector('.grain'), c = g.getContext('2d');
  const s = 256; g.width = s; g.height = s;
  const img = c.createImageData(s, s);
  for(let i = 0; i < img.data.length; i += 4){
    const v = Math.random()*255;
    img.data[i] = img.data[i+1] = img.data[i+2] = v; img.data[i+3] = 255;
  }
  c.putImageData(img, 0, 0);
})();
</script>
</body>
</html>